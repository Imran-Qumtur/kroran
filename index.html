<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Restaurang Namn</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Noto+Serif+SC:wght@700&display=swap" rel="stylesheet">

  <style>
    :root { 
      font-family: 'Noto Serif SC', 'Cinzel Decorative', serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; 
      scroll-behavior: smooth; 
      --gold: #E2B857;
    }

    body { margin:0; padding:0; background:#000; color:#fff; }

    /* Hero section */
    .hero {
      position: relative;
      height: 100vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align:center;
      padding: 0 20px;
    }
    .hero video {
      position: absolute;
      top:0; left:0; width:100%; height:100%;
      object-fit: cover;
      z-index: -2;
      filter: brightness(0.4);
    }
    .hero .overlay {
      position: absolute;
      top:0; left:0; width:100%; height:100%;
      background: rgba(0,0,0,0.3);
      z-index: -1;
    }
    .hero .logo {
      
      max-width: 480px; /* Reduced from 700px */
      margin-bottom: 32px;
      filter: drop-shadow(0 0 24px var(--gold));
      opacity: 0;
      transform: scale(0.8);
      transition: opacity 1.2s cubic-bezier(.77,0,.18,1), transform 1.2s cubic-bezier(.77,0,.18,1);
    }
    .hero .welcome-text {
      font-size: 1.6rem;
      color: var(--gold);
      margin-bottom: 30px;
      font-family: 'Cinzel Decorative', serif;
      letter-spacing: 1px;
      line-height: 1.5;
    }
    .hero .buttons {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .hero button {
      background: transparent;
      color: var(--gold);
      padding: 12px 28px;
      font-size: 1.1rem;
      border: 2px solid var(--gold);
      border-radius: 8px;
      cursor: pointer;
      transition: all .2s ease;
      width:200px;
      font-family: 'Cinzel Decorative', serif;
    }
    .hero button:hover {
      background: var(--gold);
      color: #000;
    }

    /* Sections */
    section {
      max-width: 900px;
      margin: 0 auto;
      padding: 60px 20px;
      background:#000;
      color:#fff;
      font-family: 'Scheherazade New', serif;
    }
    section h2 { 
      margin-top:0; 
      font-size:2rem; 
      color:var(--gold); 
      font-family: 'Cinzel Decorative', serif; 
    }

    /* Menu styles */
    .menu-section { margin-bottom:40px; }
    .menu-section h3 { 
      font-size:1.6rem; 
      color: var(--gold); 
      margin-bottom:12px;
      font-family: 'Cinzel Decorative', serif;
      border-bottom: 1px solid #555;
      padding-bottom:4px;
    }
    .item { 
      display:flex; 
      justify-content:space-between; 
      padding:6px 0; 
      border-bottom:1px dotted #444; 
    }
    .item:last-child { border-bottom:none; }
    .item-desc { 
      font-size:0.95rem; 
      color:#ccc; 
      margin-top:2px; 
    }
    .price { 
      white-space:nowrap; 
      font-weight:600; 
      color: var(--gold);
    }
    .item > div:first-child {
      text-align: left; /* Make food name and description left-aligned */
    }

    /* Footer */
    footer {
      background:#000; 
      color:#fff; 
      padding:20px; 
      text-align:center;
      font-size:0.9rem;
      font-family: 'Cinzel Decorative', serif;
    }

    a { color: var(--gold); text-decoration: none; }
    a:hover { text-decoration: underline; }

    #hours, #contact { text-align:center; }
    #hours-content, #contact > p { display:inline-block; text-align:center; }

    /* Parallax banner */
    /*
    .parallax-banner {
      width: 100%;
      height: 320px;
      background-image: url('parrallax.jpg');
      background-attachment: fixed;
      background-position: center center; /* Center image vertically and horizontally */
      background-repeat: no-repeat;
      background-size: cover;
      filter: blur(1.5px); /* Less blur so image is visible */
      margin: 0 auto 0 auto;
      position: relative;
      will-change: background-position;
      transition: background-position 0.2s;
      overflow: hidden;
    }
    .parallax-banner::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      pointer-events: none;
    }
    .parallax-banner h2 {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.5rem;
      color: var(--gold);
      text-align: center;
      font-family: 'Cinzel Decorative', serif;
    }
    @media (max-width: 900px) {
      .parallax-banner {
        background-attachment: scroll;
      }
    }
    */
    @media (max-width: 600px) {
      .hero {
        height: 70vh;
        padding: 0 6px;
      }
      .hero video {
        object-fit: cover;
        min-height: 100%;
        min-width: 100%;
      }
      .hero .logo {
        max-width: 220px; /* Smaller logo for mobile */
        margin-bottom: 18px;
      }
      .hero .welcome-text {
        font-size: 1.1rem;
        margin-bottom: 18px;
      }
      .hero .buttons {
        gap: 10px;
      }
    }

    /* Fade-in for logo */
    .hero .logo {
      opacity: 0;
      transform: scale(0.8);
      transition: opacity 1.2s cubic-bezier(.77,0,.18,1), transform 1.2s cubic-bezier(.77,0,.18,1);
    }

    /* Animate sections from bottom up */
    .animate-up {
      opacity: 0;
      transform: translateY(60px);
      transition: opacity 0.9s cubic-bezier(.77,0,.18,1), transform 0.9s cubic-bezier(.77,0,.18,1);
    }

    .animate-up.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Animate welcome text and buttons from bottom up */
    .hero .welcome-text,
    .hero .buttons {
      opacity: 0;
      transform: translateY(60px);
      transition: opacity 1s cubic-bezier(.77,0,.18,1), transform 1s cubic-bezier(.77,0,.18,1);
    }
    .hero .welcome-text.visible,
    .hero .buttons.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Food gallery styles */
    #food-gallery {
      width: 100%;
      display: flex;
      justify-content: center;
      gap: 24px;
      flex-wrap: wrap;
      padding: 32px 0;
    }
    .food-pic {
      position: relative;
      width: 180px;
      height: 180px;
      overflow: hidden;
      border-radius: 16px;
      box-shadow: 0 4px 24px #000a;
      cursor: pointer;
      background: #222;
      transition: box-shadow 0.2s;
    }
    .food-pic img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s cubic-bezier(.77,0,.18,1);
      border-radius: 16px;
    }
    .food-pic:hover img {
      transform: scale(1.13);
    }
    .food-info {
      position: absolute;
      bottom: 0; left: 0; right: 0;
      background: rgba(0,0,0,0.85);
      color: var(--gold);
      font-family: 'Cinzel Decorative', serif;
      font-size: 1.1rem;
      padding: 18px 10px 10px 10px;
      text-align: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      border-radius: 0 0 16px 16px;
    }
    .food-pic.active .food-info {
      opacity: 1;
      pointer-events: auto;
    }
  </style>
</head>
<body>

<!-- Hero -->
<header class="hero">
  <video autoplay muted loop playsinline>
    <source src="kroran_video.mp4" type="video/mp4">
    Din webbläsare stöder inte videon.
  </video>
  <div class="overlay"></div>

  <img src="kroran_cleaned_scaled2x_v2.png" alt="Restaurang Logo" class="logo">

  <div class="welcome-text">
    Välkommen till Sveriges första Uyghuriska Restaurang
  </div>

  <div class="buttons">
    <button onclick="document.getElementById('menu').scrollIntoView({behavior:'smooth'});">Se meny</button>
    <button onclick="document.getElementById('hours').scrollIntoView({behavior:'smooth'});">Öppettider</button>
    <button onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'});">Kontakt</button>
  </div>
</header>

<!-- Om oss -->
<section id="om-oss" style="text-align:center;">
  <h2 style="font-family: 'Cinzel Decorative', serif; color: var(--gold); font-size:2rem; margin-top:0;">
    Om oss
  </h2>
  <div id="om-content" style="display:inline-block; text-align:left; max-width:700px;">
    Laddar information…
  </div>
</section>

<!-- Menu -->
<section id="menu" style="text-align:center;">
  <h2>Meny</h2>
  <div id="menu-columns" style="display:flex; justify-content:center; gap:40px; flex-wrap:wrap;">
    <div id="menu-left" style="flex:1 1 300px; max-width:340px;"></div>
    <div id="menu-huvudratter" style="flex:1 1 300px; max-width:340px;"></div>
  </div>
</section>

<!-- This is to add picture gallary of food items. Uncomment and add images named food1.jpg, food2.jpg, food3.jpg in the same directory as index.html
<div id="food-gallery" style="width:100%;display:flex;justify-content:center;gap:24px;flex-wrap:wrap;padding:32px 0;">
  <div class="food-pic" data-name="Shah Laghman" data-price="179 kr">
    <img src="food1.jpg" alt="Shah Laghman">
    <div class="food-info"></div>
  </div>
  <div class="food-pic" data-name="Uyghur Göshnaan" data-price="149 kr">
    <img src="food2.jpg" alt="Uyghur Göshnaan">
    <div class="food-info"></div>
  </div>
  <div class="food-pic" data-name="Samosa" data-price="55 kr">
    <img src="food3.jpg" alt="Samosa">
    <div class="food-info"></div>
  </div>
</div> 
//-->
<!-- Hours -->
<section id="hours">
  <h2>Öppettider</h2>
  <div id="hours-content">Laddar öppettider…</div>
</section>

<!-- Contact -->
<section id="contact">
  <h2>Kontakt</h2>
  <p>Telefon: <a id="phone" href="#">012-345 678</a></p>
  <p>Adress: <span id="address">Gatan 1, Stad</span></p>
</section>

<div style="width:100%;background:#000;padding:0;margin:0;">
  <iframe
    src="https://www.google.com/maps?q=Furusundsgatan+9,+115+37+Stockholm&output=embed"
    width="100%"
    height="320"
    style="border:0;display:block;margin:0 auto;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>
</div>

<footer>
  © <span id="year"></span> Krorän. Alla rättigheter förbehållna. Bilder och videor av Fun Lab Productions
</footer>

<script>
document.getElementById("year").textContent = new Date().getFullYear();

// Load menu & hours from menu.json
async function loadSite() {
  try {
    const res = await fetch('menu.json', {cache:"no-store"});
    if(!res.ok) throw new Error('menu.json missing');
    const data = await res.json();

    document.title = data.name || "Krorän";

    // phone + address
    document.getElementById('phone').textContent = data.phone || "";
    if(data.phone) document.getElementById('phone').href = "tel:" + data.phone.replace(/\s+/g,'');
    document.getElementById('address').textContent = data.address || "";

    // menu
    const menuLeft = document.getElementById('menu-left');
    const menuHuvudratter = document.getElementById('menu-huvudratter');
    menuLeft.innerHTML = '';
    menuHuvudratter.innerHTML = '';

    (data.menu || []).forEach(section => {
      const sec = document.createElement('div');
      sec.className = 'menu-section';
      sec.innerHTML = `<h3>${section.category}</h3>`;
      section.items.forEach(it => {
        sec.innerHTML += `
          <div class="item">
            <div>
              <strong>${it.name}</strong>
              ${it.desc ? `<div class="item-desc">${it.desc}</div>` : ''}
            </div>
            <div class="price">${it.price}</div>
          </div>`;
      });
      if (section.category === "Huvudrätter") {
        menuLeft.appendChild(sec);      // Huvudrätter now goes to the left column
      } else {
        menuHuvudratter.appendChild(sec); // All other categories go to the right column
      }
    });

    // hours
    const hoursContent = document.getElementById('hours-content');
    hoursContent.innerHTML = '';
    (data.hours||[]).forEach(h => {
      if (h.open && h.close) {
        hoursContent.innerHTML += `<div>${h.day}: ${h.open} – ${h.close}</div>`;
      } else if (h.open && h.open.toLowerCase() === "stängt") {
        hoursContent.innerHTML += `<div>${h.day}: Stängt</div>`;
      } else {
        hoursContent.innerHTML += `<div>${h.day}: </div>`;
      }
    });

    // om oss
    const omContent = document.getElementById('om-content');
    omContent.innerHTML = '';
    if (Array.isArray(data.om)) {
      data.om.forEach(paragraph => {
        omContent.innerHTML += `<p style="margin-bottom:18px;">${paragraph}</p>`;
      });
    } else {
      omContent.innerHTML = "Ingen information tillgänglig.";
    }
  } catch(err) {
    console.error(err);
  }
}
loadSite();

// Fade in logo when page loads
window.addEventListener('DOMContentLoaded', function() {
  const logo = document.querySelector('.hero .logo');
  if (logo) {
    setTimeout(() => {
      logo.style.opacity = '1';
      logo.style.transform = 'scale(1)';
    }, 300);
  }
  // Animate welcome text and buttons
  const welcome = document.querySelector('.hero .welcome-text');
  const buttons = document.querySelector('.hero .buttons');
  if (welcome) {
    setTimeout(() => {
      welcome.classList.add('visible');
    }, 500);
  }
  if (buttons) {
    setTimeout(() => {
      buttons.classList.add('visible');
    }, 700);
  }
});

// Add .animate-up to sections
['om-oss', 'menu', 'hours', 'contact'].forEach(id => {
  const el = document.getElementById(id);
  if (el) el.classList.add('animate-up');
});

// Animate sections when they enter viewport
function animateSectionsOnScroll() {
  document.querySelectorAll('.animate-up').forEach(el => {
    const rect = el.getBoundingClientRect();
    if (rect.top < window.innerHeight - 60) {
      el.classList.add('visible');
    }
  });
}
window.addEventListener('scroll', animateSectionsOnScroll);
window.addEventListener('DOMContentLoaded', animateSectionsOnScroll);

// Add after your other scripts
document.querySelectorAll('.food-pic').forEach(pic => {
  pic.addEventListener('click', function() {
    // Hide all other infos
    document.querySelectorAll('.food-pic').forEach(p => {
      if (p !== pic) p.classList.remove('active');
    });
    // Toggle this one
    pic.classList.toggle('active');
    const info = pic.querySelector('.food-info');
    if (pic.classList.contains('active')) {
      info.innerHTML = `<strong>${pic.dataset.name}</strong><br>${pic.dataset.price}`;
    } else {
      info.innerHTML = '';
    }
  });
});
</script>

</body>
</html>
